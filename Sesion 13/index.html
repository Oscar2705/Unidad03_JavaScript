<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sesion 13</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>
<body>
    <!-- 1. Hasta 300Km => S/250.
    2. Mas de 300Km hasta 1000Km => S/250 + S/30 por cada kilometro por encima de 300.
    3. Mas de 1000Km => S/250 + S/30 entre 300 y 1000 + S/20 mÃ¡s de 1000. -->

    <div ng-app="myApp" ng-controller="myCtrl">
        <p>Ingrese Km : <input type="text" ng-model="distancia" /></p>
        <p>{{distancia}} km</p>
        <p>{{calcular()}} </p>
        <p>Descuento del 10% por el precio {{descuento()}} </p>
      </div>

    <script>
       let app = angular.module('myApp', []);
        app.controller("myCtrl", function ($scope) {
        $scope.distancia = 0;
        $scope.calcular = function () {
            //Si la distancia es menor igual a 300 tendra la misma tarifa
            if ($scope.distancia <= 300) {
            return 250;
            
            } else if ($scope.distancia <= 1000) {
            return 250 + 30 * ($scope.distancia - 300);
            } else {
            return 250 + 30*(1000 - 300) + 20*($scope.distancia - 1000);
            }            
        };
        
        $scope.descuento = function(){
            if($scope.calcular() >=500){ 
                //Si el pago excede los 500 , descuento del 10%
                return 0.10*($scope.calcular())
            }
        }       
        });
        
    </script>
</body>
</html>